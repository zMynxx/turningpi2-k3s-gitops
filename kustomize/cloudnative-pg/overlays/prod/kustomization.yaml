apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# helmGlobals:
#   chartHome: ./charts/

# helmCharts: https://kubectl.docs.kubernetes.io/references/kustomize/builtins/#_helmchartinflationgenerator_
helmCharts:
  # Use a Helm chart from the official Helm chart repository
  - name: &name cloudnative-pg
    version: 0.26.0
    repo: https://cloudnative-pg.github.io/charts
    releaseName: *name
    valuesFile: values.yaml
    namespace: *name
    includeCRDs: true

namespace: *name

# Additonal resources to apply - do not worry about the order if you are using ArgoCD
resources:
  - namespace.yaml
